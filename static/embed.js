(function(){"use strict";const i="dental-chatbot-widget-iframe",s="320px",r="450px",a="48px";function c(){try{if(document.getElementById(i))return console.warn("Dental Chatbot Widget is already initialized"),null;const t=d(),n=window.location.hostname||"unknown",e=document.createElement("iframe");e.id=i,e.title="Dental Support Chat",e.setAttribute("aria-label","Dental Support Chat Widget"),Object.assign(e.style,{position:"fixed",bottom:"16px",right:"16px",width:s,height:r,border:"none",zIndex:"2147483647",overflow:"hidden",transition:"all 0.3s ease",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px 8px 0 0"});const o=new URL("/widget",(t==null?void 0:t.src)||window.location.href);return o.searchParams.set("domain",n),o.searchParams.set("t",Date.now().toString()),e.src=o.toString(),document.body.appendChild(e),e}catch(t){return console.error("Failed to initialize Dental Chatbot Widget:",t),null}}function d(){if(document.currentScript)return document.currentScript;const t=document.getElementsByTagName("script");return t[t.length-1]}function l(t){const n={open:()=>{var e;t&&(t.style.height=r,(e=t.contentWindow)==null||e.postMessage("chatbot-open","*"))},close:()=>{var e;t&&(t.style.height=a,(e=t.contentWindow)==null||e.postMessage("chatbot-close","*"))},toggle:()=>{t&&(n.isOpen()?n.close():n.open())},isOpen:()=>t?t.style.height!==a:!1};return n}try{const t=c(),n=l(t);window.ChatbotWidget=n,window.addEventListener("message",e=>{e.data==="chatbot-widget-loaded"&&console.log("Dental Chatbot Widget loaded successfully")})}catch(t){console.error("Error initializing Dental Chatbot Widget:",t)}})();
//# sourceMappingURL=embed.js.map
